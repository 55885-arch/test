<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Lesson Download</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
}

.container {
    display: flex;
    height: 100vh;
}

/* Sidebar */
.sidebar {
    width: 220px;
    background: #f3f3f3;
    padding: 15px;
    overflow-y: auto;      /* ‚úÖ allow vertical scroll */
}


.menu-item {
    padding: 8px;
    cursor: pointer;
    font-weight: bold;
}

.menu-item:hover {
    background: #ddd;
}

.dropdown {
    display: none;
    margin-left: 15px;
    font-size: 14px;
}

.dropdown a {
    display: block;
    padding: 5px;
    text-decoration: none;
    color: black;
}

.dropdown a:hover {
    background: #ddd;
}

/* Main */
.main {
    flex: 1;
    padding: 20px;
}

.topbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
}

.search {
    width: 300px;
    padding: 8px;
}

/* User box */
.user-box {
    display: flex;
    align-items: center;
    gap: 10px;
}

.avatar {
    width: 35px;
    height: 35px;
    background: #333;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.logout {
    padding: 6px 12px;
    cursor: pointer;
}

/* Cards */
.cards {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 25px;
}

.card-link {
    text-decoration: none;
    color: black;
}

.card {
    border: 2px solid #000;
    padding: 20px;
    cursor: pointer;
    transition: 0.2s;
}

.card:hover {
    background: #f5f5f5;
    transform: translateY(-2px);
}

.pdf {
    margin-top: 10px;
    font-size: 14px;
    color: #555;
}
</style>
</head>

<body>

<div class="container">

    <!-- Sidebar -->
    <div class="sidebar">
        <a href="index.html" style="text-decoration:none; color:black;">
    	<div class="menu-item">Home</div>
		</a>

        <div class="menu-item" onclick="toggleDropdown('math')">
            ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‚ñæ
        </div>
        <div class="dropdown" id="math">
            <a href="#">‡∏°.1</a>
            <a href="#">‡∏°.2</a>
            <a href="#">‡∏°.3</a>
            <a href="#">‡∏°.4</a>
			<a href="#">‡∏°.5</a>
            <a href="#">‡∏°.6</a>
        </div>

        <div class="menu-item" onclick="toggleDropdown('science')">
            ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‚ñæ
        </div>
        <div class="dropdown" id="science">
            <div class="menu-item" onclick="toggleDropdown('physic')">
            ‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå ‚ñæ
        	</div>
			<div class="dropdown" id="physic">
            <a href="#">‡∏°.1</a>
            <a href="#">‡∏°.2</a>
            <a href="#">‡∏°.3</a>
            <a href="#">‡∏°.4</a>
			<a href="#">‡∏°.5</a>
            <a href="#">‡∏°.6</a>
        	</div>
			<div class="menu-item" onclick="toggleDropdown('bio')">
            ‡∏ä‡∏µ‡∏ß‡∏∞ ‚ñæ
        	</div>
			<div class="dropdown" id="bio">
            <a href="#">‡∏°.1</a>
            <a href="#">‡∏°.2</a>
            <a href="#">‡∏°.3</a>
            <a href="#">‡∏°.4</a>
			<a href="#">‡∏°.5</a>
            <a href="#">‡∏°.6</a>
        	</div>
			<div class="menu-item" onclick="toggleDropdown('chem')">
            ‡πÄ‡∏Ñ‡∏°‡∏µ ‚ñæ
        	</div>
			<div class="dropdown" id="chem">
            <a href="#">‡∏°.1</a>
            <a href="#">‡∏°.2</a>
            <a href="#">‡∏°.3</a>
            <a href="#">‡∏°.4</a>
			<a href="#">‡∏°.5</a>
            <a href="#">‡∏°.6</a>
        	</div>

        </div>
		<div class="menu-item" onclick="toggleDropdown('thai')">
            ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‚ñæ
        </div>
        <div class="dropdown" id="thai">
            <a href="#">‡∏°.1</a>
            <a href="#">‡∏°.2</a>
            <a href="#">‡∏°.3</a>
            <a href="#">‡∏°.4</a>
			<a href="#">‡∏°.5</a>
            <a href="#">‡∏°.6</a>
        </div>
		<div class="menu-item" onclick="toggleDropdown('social')">
            ‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‚ñæ
        </div>
        <div class="dropdown" id="social">
            <a href="#">‡∏°.1</a>
            <a href="#">‡∏°.2</a>
            <a href="#">‡∏°.3</a>
            <a href="#">‡∏°.4</a>
			<a href="#">‡∏°.5</a>
            <a href="#">‡∏°.6</a>
        </div>
		<div class="menu-item" onclick="toggleDropdown('english')">
            ‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© ‚ñæ
        </div>
        <div class="dropdown" id="english">
            <a href="#">‡∏°.1</a>
            <a href="#">‡∏°.2</a>
            <a href="#">‡∏°.3</a>
            <a href="#">‡∏°.4</a>
			<a href="#">‡∏°.5</a>
            <a href="#">‡∏°.6</a>
        </div>
		<div class="menu-item" onclick="toggleDropdown('other')">
            ‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‚ñæ
        </div>
        <div class="dropdown" id="other">
            <a href="#">-</a>
            <a href="#">-</a>
            <a href="#">-</a>
            <a href="#">-</a>
			<a href="#">-</a>
            <a href="#">-</a>
        </div>
    </div>

    <!-- Main -->
    <div class="main">

        <div class="topbar">
            <input class="search" id="search" type="text" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô">

            <div class="user-box">
                <div class="avatar" id="avatar"></div>
                <span id="usernameDisplay"></span>
                <button class="logout" onclick="logout()">Logout</button>
            </div>
        </div>

        <div class="cards">

            <a class="card-link" data-search="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ï‡πá‡∏° ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡∏°.1" href="pdf/math_m1.pdf" download>
            <div class="card">
                    <b>‡∏™‡∏£‡∏∏‡∏õ ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</b><br>
                    ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ï‡πá‡∏°
                    <div class="pdf">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ï‡πá‡∏° ‡∏°.1.pdf</div>
                </div>
            </a>

            <a class="card-link" data-search="‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡∏°.2" href="FilesFolder/TEST.txt" download>
                <div class="card">
                    <b>‡∏™‡∏£‡∏∏‡∏õ ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</b><br>
                    ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô
                    <div class="pdf">‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô ‡∏°.2.pdf</div>
                </div>
            </a>

            <a class="card-link" data-search="‡∏™‡∏°‡∏Å‡∏≤‡∏£ ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡∏°.3" href="pdf/math_m3.pdf" download>
                <div class="card">
                    <b>‡∏™‡∏£‡∏∏‡∏õ ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</b><br>
                    ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏™‡∏°‡∏Å‡∏≤‡∏£
                    <div class="pdf">‡∏™‡∏°‡∏Å‡∏≤‡∏£ ‡∏°.3.pdf</div>
                </div>
            </a>

            <a class="card-link" data-search="‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡∏°.4" href="pdf/math_m4.pdf" download>
                <div class="card">
                    <b>‡∏™‡∏£‡∏∏‡∏õ ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</b><br>
                    ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô
                    <div class="pdf">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô ‡∏°.4.pdf</div>
                </div>
            </a>
			
		

        </div>

    </div>
</div>

<script>
// üîí protect page
if (localStorage.getItem("loggedIn") !== "true") {
   window.location.href = "login.html";
}

// üë§ show username + avatar
const username = localStorage.getItem("currentUser");
document.getElementById("usernameDisplay").innerText = username;
document.getElementById("avatar").innerText = username.charAt(0).toUpperCase();

// üö™ logout
function logout() {
    localStorage.removeItem("loggedIn");
    localStorage.removeItem("currentUser");
    window.location.href = "login.html";
}

// dropdown
function toggleDropdown(id) {
    const d = document.getElementById(id);
    d.style.display = d.style.display === "block" ? "none" : "block";
}

// üîç search (cards only)
document.getElementById("search").addEventListener("keyup", function () {
    const keyword = this.value.toLowerCase();
    document.querySelectorAll(".card-link").forEach(card => {
        const text = card.dataset.search.toLowerCase();
        card.style.display = text.includes(keyword) ? "block" : "none";
    });
});
</script>

</body>
</html>
